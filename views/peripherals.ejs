<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Peripherals</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-lua.min.js"></script>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>Peripherals</h1>
    <h2>What is a peripheral?</h2>
    <p>"Peripherals are blocks (or turtle and pocket computer upgrades) which can be controlled by a computer. For instance, the speaker peripheral allows a computer to play music and the monitor peripheral allows you to display text in the world." - tweaked.cc</p>

    <h2>How do I use peripherals?</h2>
    <p>Peripherals can be declared as variables by either using <strong>peripheral.wrap()</strong> or <strong>peripheral.find()</strong></p>
    <p>Below is an example of finding and declaring a "speaker" peripheral on the left side of the computer</p>

    <pre class="codeblock"><img src="img/copy.png" id="lua-copy-image" alt="Copy text" onclick="copyText(0)"><code class="language-lua" class="tocopy">local speaker = peripheral.wrap("left")</code></pre>
    <p>or</p>
    <pre class="codeblock"><img src="img/copy.png" id="lua-copy-image" alt="Copy text" onclick="copyText(1)"><code class="language-lua" class="tocopy">local speaker = peripheral.find("speaker")</code></pre>
    <br>
    <p>Now that you have your peripheral declared, you can use the functions according to the peripheral.</p>
    <p>For example, the speaker has a function where it can play a note using <strong>".playNote(instrument)"</strong></p>
    <pre class="codeblock"><img src="img/copy.png" id="lua-copy-image" onclick="copyText(2)"><code class="language-lua" id="toCopy">local speaker = peripheral.find("speaker")
speaker.playNote("harp")</code></pre>
    <p>This code will play a note on the speaker when it is run. Congrats, you've just used your first peripheral!</p>
    <a href="https://tweaked.cc/module/peripheral.html" target="_blank">Click here to learn more on tweaked.cc</a>
  </div>

  <%- sidebar %>

<script>
  function copyText(index) {
      const parentElement = document.getElementsByClassName('codeblock')[index].children[1]
      let textToCopy = '';

      for (let i = 0; i < parentElement.childNodes.length; i++) {
          const child = parentElement.childNodes[i];

          textToCopy += child.textContent;
      }

      navigator.clipboard.writeText(textToCopy)
          .then(function() {
              const button = document.getElementsByClassName('codeblock')[index].children[0]
              button.src = 'img/check.png'
              button.style.height = '25px'
          })
          .catch(function(error) {
              console.error('Unable to copy text to clipboard:', error);
          });
  }
</script>
</body>
</html>
